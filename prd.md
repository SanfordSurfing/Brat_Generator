# Brat Generator - 产品需求文档 (PRD)

## 项目简述
著名歌手Charlie XcX有一个专辑叫做"Brat"，专辑歌曲非常热门，有一批忠实拥趸。该专辑的封面大胆有个性，使得互联网上很多人模仿她的歌曲封面来制作歌词图片或个人主页的图片。这个项目就是为用户提供快捷的方式创建同款图片。

## 平台
网页应用，移动端友好。

---

## 版本历史

### v1.2 - 完整功能版 ✅ (当前版本)
**发布日期：** 2026-01-05

**已完成功能：**
- ✅ Brat 风格图片生成（完美还原官方 bratgenerator.com 效果）
- ✅ 实时预览
- ✅ 图片下载（PNG 格式）
- ✅ 智能换行算法（优先换行 + 最大化字号 + 智能缩放）
- ✅ 多语言支持（英文 /en、中文 /zh）
- ✅ Gallery 功能（上传 + 展示 + 点赞）
- ✅ 单张图片详情页（独立 URL）
- ✅ Brat Color 页面
- ✅ 完整的 SEO 优化
- ✅ 响应式布局（手机、平板、电脑适配）
- ✅ Apple 风格 UI 设计
- ✅ Supabase 后端集成

### v1.1 - 换行优化版 ✅
**发布日期：** 2026-01-05

**改进内容：**
- ✅ 重写字号计算算法
- ✅ 添加随机空格效果
- ✅ 缩小边距至 20px

### v1.0 - MVP 版本 ✅
**发布日期：** 2026-01-05

**已完成功能：**
- ✅ Brat 风格图片生成（完美还原官方 bratgenerator.com 效果）
- ✅ 实时预览
- ✅ 图片下载（PNG 格式）
- ✅ 文字自动换行（基础版）
- ✅ 多语言支持（英文 /en、中文 /zh）
- ✅ 响应式布局（手机、平板、电脑适配）
- ✅ SEO 基础优化
- ✅ Apple 风格 UI 设计

---

## 核心功能（MVP）

### 1. 图片生成 ✅
用户提供文本，网站基于用户的文本生成一张 Brat 风格图片：

**图片参数：**
- 背景色：#8ACE00（Brat 标志性绿色）
- 图片比例：1:1（1000×1000px）
- 字体：Arial Narrow，font-weight: 500
- 字体颜色：黑色 (#000000)
- 字体特效：高斯模糊 2px（基于官方网站优化）
- 字体大小：根据行数自适应
  - 1行：字体高度 = 画布高度的 1/3（约 333px）
  - 2行：字体高度 = 画布高度的 1/4（约 250px）
  - 3行：字体高度 = 画布高度的 1/5（约 200px）
  - 4行+：动态缩小
- 文字转换：自动转为小写（Brat 风格）
- 文字对齐：水平垂直居中

### 2. 图片下载 ✅
- 支持一键下载生成的图片
- 格式：PNG
- 文件名：brat-[文本内容].png

### 3. 自动换行 ✅
- 基础自动换行功能
- 文字超出画布宽度时自动换行
- 根据最终行数调整字体大小

### 4. 多语言支持 ✅
- 支持英文（/en）和中文（/zh）
- 自动检测浏览器语言
- 独立的 SEO 优化（每个语言独立索引）
- URL 结构：bratgenerator.com/[lang]

---

## 技术要求

### 技术栈 ✅
- Next.js 14 (App Router)
- React 18
- TypeScript
- Canvas API

### SEO 优化 ✅
- ✅ 每个页面有且只有 1 个 H1 标签
- ✅ 正确设置 canonical URL
- ✅ 页面标题 < 60 字符
- ✅ 页面 description < 160 字符
- ✅ 移动端友好
- ✅ 无障碍友好（图片 alt 正确描述）
- ✅ hreflang 标签（多语言 SEO）
- ✅ Open Graph 标签（社交媒体分享）

### 响应式布局 ✅
- 支持手机、平板、桌面端
- 响应式字体大小
- 触摸友好的交互

### 设计风格 ✅
- Apple.inc 风格
- 简洁、优雅、留白充足
- 流畅的动画和过渡效果

---

## 需求池

### ✅ 已完成（v1.2）

1. **网站结构** ✅
    - ✅ 首页：添加上传功能，用户生成brat图片后，可以点击上传按钮，即一键上传至gallery
    - ✅ Gallery：展示所有用户上传的brat图片，支持点赞，按点赞数排序
    - ✅ 单张图片详情页：每张图片都有独立的 URL（SEO 优化）
    - ✅ Brat Color 页面：展示 #8ACE00、RGB、HSL 色值，包含介绍内容

2. **On-Page SEO 优化** ✅
   - ✅ 添加结构化数据（Schema.org JSON-LD）
   - ✅ 优化图片 alt 文本（默认使用英文）
   - ✅ 添加面包屑导航（所有页面）
   - ✅ 添加 sitemap.xml（动态生成）
   - ✅ 添加 robots.txt（动态生成）

### 🔮 未来计划

 **on page seo 2.0**
    - 隐私政策
    - cookies policy
    - 首页保证正文800字以上，H标签规范使用（层级明显，语义化解释明显）
    - 基于核心关键词表构建内容，以配合SEO @keyword.csv

 **bug或细节优化**
    - 支持大写字母
    - 上传至gallery完成时，展示撒彩带🎉特效(如果当前技术栈不支持的话就算了)

 **性能优化**（待定，先不要开发）
   - Gallery加载速度优化。目前跳转到gallery时，会有半秒左右的”loading“提示。
   - 首屏加载速度优化
   - 代码分割和懒加载， 这个是什么？先跟我解释清楚，我认为需要做时，才开始开发

4. **更多语言** （待定，先不要开发）
   - 日语 (/ja)
   - 韩语 (/ko)
   - 西班牙语 (/es)
   - 其他主要语言

---

## 项目文档

- `README.md` - 项目概述和快速开始
- `introduction.md` - 新手详细指南
- `MULTILINGUAL.md` - 多语言功能说明
- 本文件 (`prd.md`) - 产品需求文档

---

## 部署

### 当前状态
- ✅ 本地开发环境运行正常
- ⏳ 待部署到生产环境

### 推荐平台
- Vercel（推荐）
- Netlify
- 自建服务器

### 域名建议
- bratgenerator.com（主域名）
- /en - 英文版
- /zh - 中文版

---

**最后更新：** 2026-01-05  
**当前版本：** v1.2 完整功能版  
**项目状态：** 核心功能全部完成，需配置 Supabase 后即可部署