# Supabase è®¾ç½®æŒ‡å—

è¿™ä¸ªæ–‡æ¡£ä¼šæ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•è®¾ç½® Supabaseï¼Œè®© Galleryï¼ˆå›¾ç‰‡å±•ç¤ºï¼‰å’Œç‚¹èµåŠŸèƒ½å¯ä»¥æ­£å¸¸å·¥ä½œã€‚

## ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦ Supabaseï¼Ÿ

Supabase æ˜¯ä¸€ä¸ªå…è´¹çš„åç«¯æœåŠ¡ï¼Œå¯ä»¥å¸®æˆ‘ä»¬ï¼š
- ğŸ“¦ å­˜å‚¨ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡æ•°æ®
- ğŸ‘ è®°å½•æ¯å¼ å›¾ç‰‡çš„ç‚¹èµæ•°
- ğŸ—„ï¸ æä¾›æ•°æ®åº“åŠŸèƒ½

**ä¸ç”¨æ‹…å¿ƒï¼** Supabase æœ‰å…è´¹é¢åº¦ï¼Œè¶³å¤Ÿä½ çš„ç½‘ç«™ä½¿ç”¨äº†ã€‚

---

## ğŸ“ ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œ Supabase è´¦å·

1. æ‰“å¼€ [Supabase å®˜ç½‘](https://supabase.com)
2. ç‚¹å‡» "Start your project" æˆ– "Sign Up"
3. å¯ä»¥ç”¨ GitHub è´¦å·ç›´æ¥ç™»å½•ï¼ˆæœ€ç®€å•ï¼‰

---

## ğŸ—ï¸ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºé¡¹ç›®

1. ç™»å½•åï¼Œç‚¹å‡» "New Project"ï¼ˆæ–°å»ºé¡¹ç›®ï¼‰
2. å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼š
   - **Name**ï¼ˆåç§°ï¼‰ï¼š`brat-generator`
   - **Database Password**ï¼ˆæ•°æ®åº“å¯†ç ï¼‰ï¼šè®¾ç½®ä¸€ä¸ªå¯†ç ï¼ˆè®°ä½å®ƒï¼ï¼‰
   - **Region**ï¼ˆåœ°åŒºï¼‰ï¼šé€‰æ‹©ç¦»ä½ æœ€è¿‘çš„ï¼ˆæ¯”å¦‚ Northeast Asia (Tokyo)ï¼‰
   - **Pricing Plan**ï¼ˆä»·æ ¼è®¡åˆ’ï¼‰ï¼šé€‰æ‹© "Free"ï¼ˆå…è´¹ï¼‰
3. ç‚¹å‡» "Create new project"ï¼ˆåˆ›å»ºé¡¹ç›®ï¼‰
4. ç­‰å¾… 1-2 åˆ†é’Ÿï¼Œé¡¹ç›®åˆ›å»ºå®Œæˆ

---

## ğŸ—„ï¸ ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºæ•°æ®åº“è¡¨

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡» **"Table Editor"**ï¼ˆè¡¨ç¼–è¾‘å™¨ï¼‰
2. ç‚¹å‡» **"Create a new table"**ï¼ˆåˆ›å»ºæ–°è¡¨ï¼‰
3. å¡«å†™è¡¨ä¿¡æ¯ï¼š

### è¡¨åï¼š`brat_images`

### å­—æ®µè®¾ç½®ï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | è®¾ç½® |
|--------|------|------|------|
| `id` | uuid | å”¯ä¸€ID | Primary Key, Default Value: `gen_random_uuid()` |
| `text` | text | å›¾ç‰‡ä¸Šçš„æ–‡å­— | - |
| `image_url` | text | å›¾ç‰‡URL | - |
| `likes` | int4 | ç‚¹èµæ•° | Default Value: `0` |
| `created_at` | timestamptz | åˆ›å»ºæ—¶é—´ | Default Value: `now()` |

4. ç‚¹å‡» **"Save"**ï¼ˆä¿å­˜ï¼‰

---

## ğŸ”‘ ç¬¬å››æ­¥ï¼šè·å– API å¯†é’¥

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡» **"Project Settings"**ï¼ˆé¡¹ç›®è®¾ç½®ï¼‰- å°é½¿è½®å›¾æ ‡
2. ç‚¹å‡»å·¦ä¾§çš„ **"API"**
3. ä½ ä¼šçœ‹åˆ°ä¸¤ä¸ªé‡è¦çš„ä¿¡æ¯ï¼š
   - **Project URL**ï¼ˆé¡¹ç›®URLï¼‰
   - **anon public**ï¼ˆå…¬å¼€å¯†é’¥ï¼‰

4. **å¤åˆ¶è¿™ä¸¤ä¸ªå€¼ï¼**

---

## âš™ï¸ ç¬¬äº”æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

1. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼š`.env.local`
2. åœ¨æ–‡ä»¶ä¸­æ·»åŠ ï¼ˆæ›¿æ¢æˆä½ çš„çœŸå®å€¼ï¼‰ï¼š

```bash
# Supabase é…ç½®
NEXT_PUBLIC_SUPABASE_URL=ä½ çš„_Project_URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„_anon_public_å¯†é’¥

# ç½‘ç«™åŸºç¡€ URL
NEXT_PUBLIC_SITE_URL=http://localhost:3000
```

3. ä¿å­˜æ–‡ä»¶

---

## ğŸ”“ ç¬¬å…­æ­¥ï¼šè®¾ç½®è®¿é—®æƒé™ï¼ˆé‡è¦ï¼ï¼‰

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSupabase çš„è¡¨æ˜¯ä¸å…è®¸å…¬å¼€è®¿é—®çš„ã€‚æˆ‘ä»¬éœ€è¦è®¾ç½® RLSï¼ˆRow Level Securityï¼‰ç­–ç•¥ã€‚

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡» **"Authentication"** > **"Policies"**
2. æ‰¾åˆ° `brat_images` è¡¨
3. ç‚¹å‡» **"New Policy"**ï¼ˆæ–°å»ºç­–ç•¥ï¼‰
4. é€‰æ‹© **"Create a policy from scratch"**ï¼ˆä»å¤´åˆ›å»ºï¼‰
5. è®¾ç½®ä»¥ä¸‹ç­–ç•¥ï¼š

### ç­–ç•¥ 1ï¼šå…è®¸æ‰€æœ‰äººè¯»å–

- **Policy name**: `Enable read access for all users`
- **Allowed operation**: `SELECT`
- **Policy definition**: 
  ```sql
  true
  ```

### ç­–ç•¥ 2ï¼šå…è®¸æ‰€æœ‰äººæ’å…¥

- **Policy name**: `Enable insert access for all users`
- **Allowed operation**: `INSERT`
- **Policy definition**: 
  ```sql
  true
  ```

### ç­–ç•¥ 3ï¼šå…è®¸æ‰€æœ‰äººæ›´æ–°ç‚¹èµæ•°

- **Policy name**: `Enable update likes for all users`
- **Allowed operation**: `UPDATE`
- **Policy definition**: 
  ```sql
  true
  ```

6. ä¿å­˜æ‰€æœ‰ç­–ç•¥

---

## âœ… ç¬¬ä¸ƒæ­¥ï¼šæµ‹è¯•è¿æ¥

1. ç¡®ä¿ `.env.local` æ–‡ä»¶å·²ç»åˆ›å»ºå¹¶å¡«å†™æ­£ç¡®
2. é‡å¯å¼€å‘æœåŠ¡å™¨ï¼š
   ```bash
   npm run dev
   ```
3. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000
4. ç”Ÿæˆä¸€å¼ å›¾ç‰‡å¹¶ç‚¹å‡»"ä¸Šä¼ åˆ° Gallery"
5. å¦‚æœæˆåŠŸï¼Œè¯´æ˜é…ç½®æ­£ç¡®ï¼

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ çš„ Brat Generator å·²ç»å¯ä»¥ï¼š
- âœ… ä¸Šä¼ å›¾ç‰‡åˆ° Gallery
- âœ… å±•ç¤ºæ‰€æœ‰ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡
- âœ… å¯¹å›¾ç‰‡è¿›è¡Œç‚¹èµ
- âœ… æŒ‰ç‚¹èµæ•°æ’åºæ˜¾ç¤º

---

## â“ å¸¸è§é—®é¢˜

### Q: æ‰¾ä¸åˆ° `.env.local` æ–‡ä»¶æ€ä¹ˆåŠï¼Ÿ
A: åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åå°±å« `.env.local`ï¼Œæ²¡æœ‰å…¶ä»–åç¼€ã€‚

### Q: ä¸Šä¼ å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: æ£€æŸ¥ï¼š
1. `.env.local` æ–‡ä»¶ä¸­çš„ URL å’Œ KEY æ˜¯å¦æ­£ç¡®
2. æ˜¯å¦é‡å¯äº†å¼€å‘æœåŠ¡å™¨
3. Supabase é¡¹ç›®æ˜¯å¦åˆ›å»ºæˆåŠŸ
4. RLS ç­–ç•¥æ˜¯å¦æ­£ç¡®è®¾ç½®

### Q: Supabase å…è´¹é¢åº¦å¤Ÿç”¨å—ï¼Ÿ
A: å…è´¹é¢åº¦åŒ…æ‹¬ï¼š
- 500MB æ•°æ®åº“ç©ºé—´
- 1GB æ–‡ä»¶å­˜å‚¨
- 50,000 æ¬¡/æœˆ API è¯·æ±‚

å¯¹äºä¸ªäººé¡¹ç›®å®Œå…¨å¤Ÿç”¨ï¼

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æ£€æŸ¥ Supabase å®˜æ–¹æ–‡æ¡£ï¼šhttps://supabase.com/docs


